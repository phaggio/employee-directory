(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),o=a.n(l),c=(a(38),a(28)),s=a(6);a(39);var m=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("span",{className:"navbar-brand mx-auto h1"},"Employee Directory"))},i=a(13),u=a(8),d=a(25),p=a(26),y=a(31),v=a(32),f=a(27),E=a.n(f),h="".concat("https://randomuser.me/api/","?nat=").concat("us","&results=").concat(30),b=function(){return E.a.get(h)};var g=function(e){return r.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":""," my-2")},e))};var w=function(e){return r.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":""," my-2")},e))};var N=function(e){var t=e.size.split(" ").map((function(e){return"col-"+e})).join(" ");return r.a.createElement("div",Object.assign({className:t},e))};var k=function(e){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-form-label col-sm-3"},e.label),r.a.createElement("div",{className:"col-sm-9 d-flex align-items-center"},r.a.createElement("input",{name:e.name,onChange:e.handleInputChange,type:"text",className:"form-control",placeholder:"enter employee name here"}))))};var B=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,e.headerNames.map((function(e){return r.a.createElement("th",{scope:"col",key:e},r.a.createElement("div",{className:"d-flex justify-content-between align-item-center"},e))}))))};var D=function(e){return r.a.createElement("tbody",null,e.employees.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,r.a.createElement("img",{alt:"img",src:e.image})),r.a.createElement("td",null,e.firstname," ",e.lastname),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.email),r.a.createElement("td",null,new Date(e.dob).toLocaleDateString()),r.a.createElement("td",null,e.age))})))};var S=function(e){return r.a.createElement("table",{className:"table table-striped table-bordered sortable"},r.a.createElement(B,{headerNames:e.headerNames}),r.a.createElement(D,{employees:e.employees}))};var j=function(e){return r.a.createElement("div",{className:"mx-auto"},r.a.createElement("label",{className:"mr-2"},e.label),r.a.createElement("input",{type:"date",name:e.name,onChange:e.handleInputChange}))};var C=function(e){return r.a.createElement(r.a.Fragment,null,e.sortBys.map((function(t){return r.a.createElement("button",{className:"dropdown-item "+t.active,key:t.key,"data-key":t.key,value:t.name,onClick:e.onClick},t.name)})))};var O=function(e){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"btn btn-info dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sort by:  ",e.selectedSortByName),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement(C,{sortBys:e.sortBys,onClick:e.updateSortBy})))},I=["ID","Image","Name","Phone","Email","DOB","Age"],x=[{name:"First Name",key:"firstname",active:""},{name:"Last Name",key:"lastname",active:""},{name:"DOB",key:"dob",active:""},{name:"Age",key:"age",active:""}],A=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={employees:[],display:[],search:"",beginDate:void 0,endDate:void 0,sortByArr:x,selectedSortBy:{name:"",key:""}},e.handleInputChange=function(t){var a=t.target.name;if("beginDate"===a){var n=t.target.value?t.target.value:"0001-01-01";e.setState(Object(u.a)({},e.state,{beginDate:n}),e.filteredEmployees)}else if("endDate"===a){var r=t.target.value?t.target.value:"2999-12-31";e.setState(Object(u.a)({},e.state,{endDate:r}),e.filteredEmployees)}else{var l=t.target.value?t.target.value.trim():"";e.setState(Object(u.a)({},e.state,{search:l.trim().toLowerCase()}),e.filteredEmployees)}},e.matchedEmployee=function(t){var a="".concat(t.firstname," ").concat(t.lastname).toLowerCase(),n=new Date(t.dob),r=void 0===e.state.beginDate?new Date("1900-01-01"):new Date(e.state.beginDate),l=void 0===e.state.endDate?new Date("2100-01-01"):new Date(e.state.endDate);if(a.includes(e.state.search)&&n>=r&&n<=l)return t},e.filteredEmployees=function(){var t=e.state.employees.filter(e.matchedEmployee);e.setState(Object(u.a)({},e.state,{display:t}))},e.updateSortBy=function(t){var a,n=t.target.value,r=t.target.dataset.key,l=Object(i.a)(x);try{for(l.s();!(a=l.n()).done;){var o=a.value;o.name===n?o.active="active":o.active=""}}catch(c){l.e(c)}finally{l.f()}e.setState(Object(u.a)({},e.state,{sortByArr:x,selectedSortBy:{name:n,key:r}}),e.sortEmployees)},e.sortEmployees=function(){var t=e.state.display.sort(e.compare);e.setState(Object(u.a)({},e.state,{display:t}))},e.compare=function(t,a){return t[e.state.selectedSortBy.key]>a[e.state.selectedSortBy.key]?1:-1},e.getEmployees=function(){b().then((function(t){var a,n=[],r=Object(i.a)(t.data.results);try{for(r.s();!(a=r.n()).done;){var l=a.value,o={id:l.id.value,image:l.picture.medium,firstname:l.name.first,lastname:l.name.last,phone:l.phone,email:l.email,dob:l.dob.date,age:l.dob.age};n.push(o)}}catch(c){r.e(c)}finally{r.f()}e.setState({employees:n,display:n})})).catch((function(e){return console.log(e)}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getEmployees()}},{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(w,null,r.a.createElement(N,{size:"md-12"},r.a.createElement("h1",null,"Employee Directory"))),r.a.createElement(w,null,r.a.createElement(N,{size:"md-12"},r.a.createElement(w,null,r.a.createElement(k,{name:"search",label:"Employee Name",handleInputChange:this.handleInputChange})),r.a.createElement(w,null,r.a.createElement(j,{label:"Born after:",name:"beginDate",handleInputChange:this.handleInputChange}),r.a.createElement(j,{label:"Born before:",name:"endDate",handleInputChange:this.handleInputChange}),r.a.createElement(O,{sortBys:this.state.sortByArr,updateSortBy:this.updateSortBy,selectedSortByName:this.state.selectedSortBy.name})),r.a.createElement(w,null,r.a.createElement(S,{headerNames:I,employees:this.state.display})))))}}]),a}(r.a.Component);var L=function(){return r.a.createElement(c.a,{basename:"/employee-directory"},r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(s.a,{exact:!0,path:"/",component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.36d17b3a.chunk.js.map